@model  Web.Models.LogisticViewModel

@{
    ViewBag.Title = "Логістика";
    Layout = "~/Views/Shared/_Layout.cshtml";
}
<style type="text/css">
    #map {
        width: 350px;
        height: 350px;
        border: 1px solid black;
        margin: 0;
        padding: 0;
        background-color: #ccc;
        overflow: hidden;
    }
</style>
<h2>Логістика</h2>
<hr />
@using (Html.BeginForm())
{
    <div class="form-horizontal">
        <div class="form-group">
            @Html.LabelFor(model => model.ShopAdress, htmlAttributes: new {@class = "control-label col-md-2"})
            <div class="col-md-10">
                @Html.EditorFor(model => model.ShopAdress, new {htmlAttributes = new {@class = "form-control", @readonly = "readonly"}})
            </div>
        </div>
        <div class="form-group">
            <div class="form-group col-md-4">
                <div id="map"></div>
            </div>
            <div class="form-group col-md-8">
                <div class="form-group ">
                    

                    <div class="">
                    </div>
                </div>
            </div>
        </div>
        

    </div>
}


@section scripts
{
    <script src="//api-maps.yandex.ru/2.1/?lang=uk_UA" type="text/javascript"></script>
    <script>
        ymaps.ready(init);
        function init() {
            var shop, shopcoord, shopPoint, myMap;

            function createMap() {
                myMap = new ymaps.Map('map', {
                    center: shopcoord,
                    zoom: 15,
                    type: 'yandex#map',
                    controls: []
                }, { searchControlResults: 1 });
                myMap.geoObjects.add(shopPoint);
            }

            ymaps.geocode($("#ShopAdress")[0].value, { results: 1 }).then(function (res) {
                shop = res.geoObjects.get(0);
                shopcoord = shop.geometry.getCoordinates();
                shopPoint = new ymaps.Placemark(shopcoord, { iconContent: 'Магазин' }, { preset: 'islands#redStretchyIcon' });
                createMap();
            });



        }
    </script>
}